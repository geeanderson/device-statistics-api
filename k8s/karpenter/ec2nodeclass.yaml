# This file is generated by Terraform — do not edit manually.
# Source: terraform/templates/ec2nodeclass.yaml.tpl
# Regenerate: terraform apply
apiVersion: karpenter.k8s.aws/v1
kind: EC2NodeClass
metadata:
  name: default
spec:
  # AL2023 — recommended AMI for new EKS clusters; @latest tracks the cluster version
  amiSelectorTerms:
    - alias: al2023@latest

  # IAM instance profile — Karpenter attaches this to every node it launches
  role: "device-statistics-karpenter-node"

  # Discover subnets by the tag set in terraform/vpc.tf
  subnetSelectorTerms:
    - tags:
        karpenter.sh/discovery: "device-statistics"

  # Discover security groups by the tag set in terraform/eks.tf
  securityGroupSelectorTerms:
    - tags:
        karpenter.sh/discovery: "device-statistics"

  tags:
    Project: device-statistics-api
    ManagedBy: karpenter
